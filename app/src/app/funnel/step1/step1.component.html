<div class="funnel-step">
  <div class="progress-bar">
    <div class="progress-line">
      <div class="line"></div>
    </div>
    <div class="steps">
      <div class="step completed">
        <div class="step-circle">1</div>
        <div class="step-label">Contact</div>
      </div>
      <div class="step active">
        <div class="step-circle">2</div>
        <div class="step-label">Informations</div>
      </div>
      <div class="step">
        <div class="step-circle">3</div>
        <div class="step-label">Devis</div>
      </div>
    </div>
  </div>

  <div class="step__Form">
    <h2>Informations complémentaires</h2>
    <form [formGroup]="step1Form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label>Êtes-vous auto-entrepreneur ?</label>
        <div class="radio-group">
          <label>
            <input type="radio" formControlName="isAutoEntrepreneur" [value]="true">
            Oui
          </label>
          <label>
            <input type="radio" formControlName="isAutoEntrepreneur" [value]="false">
            Non
          </label>
        </div>
        <div class="error-message" *ngIf="isFieldInvalid('isAutoEntrepreneur')">
          Veuillez sélectionner une option
        </div>
      </div>
  
      <div class="form-group">
        <label for="dateNaissance">Date de naissance *</label>
        <input type="date" id="dateNaissance" formControlName="dateNaissance" required 
               [class.invalid]="isFieldInvalid('dateNaissance')">
        <div class="error-message" *ngIf="isFieldInvalid('dateNaissance')">
          La date de naissance est requise
        </div>
      </div>
  
      <div class="form-group">
        <label for="adresse">Adresse *</label>
        <textarea id="adresse" formControlName="adresse" rows="3" required
                  [class.invalid]="isFieldInvalid('adresse')"></textarea>
        <div class="error-message" *ngIf="isFieldInvalid('adresse')">
          L'adresse est requise
        </div>
      </div>

      <div class="form-group">
        <label for="activite">Votre activité *</label>
        <select
          id="activite"
          formControlName="activite"
          required
          [class.invalid]="isFieldInvalid('activite')"
        >
          <option value="">Sélectionnez votre activité</option>
          <option value="commerce">Commerce d'objets d'art</option>
          <option value="decoration">
            Créations de décorations en fleurs artificielles
          </option>
          <option value="gravure">Gravure sur métaux</option>
          <option value="guide">Guide touristique</option>
          <option value="communication">
            Agence et conseil en communication
          </option>
        </select>
        <div class="error-message">
          <p *ngIf="isFieldInvalid('activite')">
            Veuillez sélectionner une option
          </p>
        </div>
      </div>
  
      <button type="submit" class="btn-primary" [disabled]="!step1Form.valid">
        Continuer
      </button>
    </form>
  </div>
</div>
